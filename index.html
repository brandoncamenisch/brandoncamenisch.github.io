<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo,next" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Brandon Camenisch">
<meta property="og:url" content="https://brandoncamenisch.com/index.html">
<meta property="og:site_name" content="Brandon Camenisch">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brandon Camenisch">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Brandon Camenisch </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Brandon Camenisch</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about.html" rel="section">
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/13/apple-to-arch/" itemprop="url">
                  Apple to Arch
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-01-13T13:49:33-07:00" content="2017-01-13">
              2017-01-13
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Why-make-a-switch"><a href="#Why-make-a-switch" class="headerlink" title="Why make a switch?"></a>Why make a switch?</h2><p>It shouldn’t be news to anyone that Apple is taking flak and people are moving on because they are fed up with Apple. Is becoming more and more obvious that Apple is declining with their products. I’ve been wanting to jump ship for a couple of years now but knew the dive would take some work to be smooth. Its taken months to sort out everything and I knew that the task would be huge to find alternatives and migrate to another OS seamlessly but its finally done and I’m off of OSX and Apple for good and it feels great.</p>
<p>Apple lost its shine for me becoming more and more unusable and altogether silly as the years push on. Not just from a hardware perspective but the software is a pain in the ass almost everyday. I should have realized much sooner but like most in my profession its hip to be. And much like Microsoft Apple is tending to force its updates/restrictions on its users and thats cool I like updated software. But updates that don’t really update the important stuff and always break the things that matter most makes me fed up. A lot of fixes also become workarounds that just aren’t worth my time. For me all I need is a browser and a terminal and the tools I need are almost always linux terminal based so it just makes sense for me. Now I’ve moved over to Arch on all of my systems and I couldn’t be happier with the result. I think for anyone considering making a switch to anything just prepare for it strategically it will make you better at what you do and harbor an appreciation and understanding for how you work now and in the future.</p>
<h3 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h3><p>Apple does a good job of boxing up and repurposing old hardware to such an extent that it tricks consumers into thinking that they are getting a top notch machine. When in fact the hardware your getting beyond its shiny exterior is subpar. For most of their machines you can buy a comparable one for half the price from another brand. Its obviously not something you can work on or replace parts on which has always irked me. You can spend even more money on some bullhit Applecare plan or throw it in the trash and buy another one.</p>
<p>I worked tirelessly for months moving my everyday tasks to tools that were portable, configurable, and open source. And the day had finally come that everything was setup and I could leave apple its dated overpriced hardware and all of its apps for good and opt for something a little more me. One of the worst things is Apple products don’t work with other Apple products. For instance I was excited to use my dual thunderbolt display setup with my brand new MBP a few years back. Lo and behold that it worked like shit for about 10 minutes and the system would overheat and become unusable. Therefore the only option was to cool down that notebook or be stuck using one display. Sure enough if I plug in regular displays of the same quality via hdmi all is well and it works wonderfully. Equally the displays don’t work on any other type of hardware besides Apple. I have a thunderbolt compatible motherboard and they only halfway work with that as well. They are also obnoxiously loud with their fans. This obviously will only get worse with the mess that they have created lately.</p>
<h3 id="Software"><a href="#Software" class="headerlink" title="Software"></a>Software</h3><p>Need I say much on this? The software for mac is abundant these days and mostly overpriced because its usually shiny/trendy whatever. The shitty part is thatfor the most part that software is usually a blackbox what the user has no control over. Which for an engineer we love tearing code apart and learning how it works I think it creates a community much like what Windows has where software is closed off proprietary and inaccessible to the user.</p>
<h3 id="Updates"><a href="#Updates" class="headerlink" title="Updates"></a>Updates</h3><p>I’m sure for most peeople the changes Apple makes are acceptable and even fun. But for me every time I receive an update it means things are broken and I have to spend hours getting them to hopefully work again if ever.</p>
<p>Just as an example of what I mean the last update to Sierra broke quite a lot for me.</p>
<ul>
<li>Re-install/compile c and xcode</li>
<li>Driver software for my mouse and keyboard were busted using a kinesis advantage pro and a Kensington trackball mouse. I had to search down the drivers and remove the fragments before it re-installed correctly.</li>
<li>Brew was borked and didn’t work anymore I don’t even know why so I had to reinstall it.</li>
<li>My installation of go was totally screwed which I use go for quite a lot like backups.</li>
<li>Ruby was also destroyed like always and I had to re-install RVM find all of the packages I need to get shit done and sort out all of the Ruby version discrepancies on gems.</li>
<li>Kernel panics everywhere when using thunderbolt displays</li>
</ul>
<p>And that’s pretty much a standard update which I’m glad I did on a Friday so I could sort that shit out before the coming work week. Don’t get me wrong it was good while it lasted but its like having a high maintenance companion. Much like Microsoft Apple is tending to force its updates on its users. Which normally that’s fine if your adding value to their experience. I’m sure for most people the changes Apple makes are acceptable and even fun. But for me every time I receive an update it means things are broken and I have to spend hours getting them to hopefully work again if ever.</p>
<h3 id="Customization"><a href="#Customization" class="headerlink" title="Customization"></a>Customization</h3><p>Another annoyance was that I couldn’t customize things to be efficient on OSX without a bunch of extra software usually paid. I don’t want much just a few things here and there to make my life easy. So I would dig in and try to customize a little piece of it but would always hit a limitation/roadblock that just couldn’t be worked around easily unless I buy some piece of software to sort of do what I wanted. On Linux though I can do whatever I want and however I want.</p>
<p>And then there’s the GUI… How many times finder has locked up on me moving or opening a large file or unzipping something is ridiculous. OSX in general locks up so much I find myself <code>killall</code>‘ing all the theings and restarting the whole process.</p>
<h3 id="Cost"><a href="#Cost" class="headerlink" title="Cost"></a>Cost</h3><p>Of course there the cost of computing on Apple products which isn’t worth it either in the end. The cost over time is jaw dropping. For instance the last MBP I bought cost 3x what it would have for a similar machine in another flavor. Thunderbolt displays aren’t much of a different story either. You can pickup a nice 4k display for at least 1/3 if not half of the cost if you shop around. And that will work with other machines too. I can’t even start to imagine how many dongles I would have to fork up money for moving forward either.</p>
<h2 id="Alternatives"><a href="#Alternatives" class="headerlink" title="Alternatives"></a>Alternatives</h2><p>Obviously there are alternatives to OSX. There is a buffet of Linux distributions out there with a flavor for everyone. Most of the <em>cool</em> things you get on OSX are almost always made somewhere else first usually Linux. I personally moved to arch because I wanted to further my *nix skills and use something that I could own entirely. But if your new to Linux then Mint, Ubuntu, or similar are always good choices.</p>
<p>I could keep bitching about it but I’ll draw to a close. I’ve moved to arch with awesome for the time being and when I want to change its just a configuration file away.</p>
<p>If your making the move then be sure to plan it out, test it first, and make backups of everything.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/27/migrating-from-osx-keychain-to-unix-pass/" itemprop="url">
                  Migrating from OSX keychain to Unix pass
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-27T12:20:44-06:00" content="2016-06-27">
              2016-06-27
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>For some time now I’ve been wanting to move away from using Apple products so that I can make a smoother transition to using another primary OS. Most of my reasoning is security and politics but I particularly find security to be a weak player on how keychain access is stored and managed on OS X. There are more than a few articles explaining how Apple fails at security especially with their iCloud services. There are a few roadblocks that stand in the way and one is the massive password/credentials export that needs to happen to make migration a reality. For me using a service for password management is not an idea I’m not fond of as services come and go oftentimes with their own stipulations and drawbacks. I could also save all of my password data in the browser and use that but thats as bad or worse as Apples security practices and though convenient it’s also not a safe solution either and is frequently prone to browser plugin hacks and lackluster security. I wanted something that I could maintain full control over that was battle tested and open source. But that would also transition seamlessly between multiple machines with ease. Enter <a href="https://www.passwordstore.org/" target="_blank" rel="external">pass</a> a simple management solution that I found that will do everything that I want. Theres just one roadblock I had to get around to make it work. And that was exporting all of my sensitive data from keychain and getting it into pass in a usable format. There are a few useful guides and scripts on migrating to pass but nothing specifically for OS X users moving off of keychain. So, what’s left for me to do other than write my own? It doesn’t have to be great it just has to work.</p>
<h2 id="Getting-everything-out-of-keychain"><a href="#Getting-everything-out-of-keychain" class="headerlink" title="Getting everything out of keychain"></a>Getting everything out of keychain</h2><p>The first step was to get all of my data off of keychain but the GUI didn’t want to cooperate and wouldn’t let me export even a single item so back to good ol’ cli to make things happen. Luckily there is the <code>security</code> command baked into OS X that could do the job which offers some really nice features to interact with pwds and other items in the keychain.</p>
<blockquote>
<p>To start the export I entered this command to dump the keychain items into a plaintext file. Which unfortunately brings up a prompt where you have to allow access to each item in the keychain. There are some apple scripts out there that should do the job but they didn’t work from the start for me so I just used automator to create a quick task and click through the prompts.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">security dump-keychain <span class="_">-d</span> login.keychain &gt; keychain</div></pre></td></tr></table></figure></p>
</blockquote>
<p>Now I had all of my passwords out there in plaintext and for each item that was exported I got something like this for each of them.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">keychain: <span class="string">"/Users/you/Library/Keychains/login.keychain"</span></div><div class="line">version: 256</div><div class="line">class: <span class="string">"genp"</span></div><div class="line">attributes:</div><div class="line">    0x00000007 &lt;blob&gt;=<span class="string">"somesite.com"</span></div><div class="line">    0x00000008 &lt;blob&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"acct"</span>&lt;blob&gt;=<span class="string">"username"</span></div><div class="line">    <span class="string">"cdat"</span>&lt;timedate&gt;=0x32303132303130353137323635325A00  <span class="string">"20120105172652Z\000"</span></div><div class="line">    <span class="string">"crtr"</span>&lt;uint32&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"cusi"</span>&lt;sint32&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"desc"</span>&lt;blob&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"gena"</span>&lt;blob&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"icmt"</span>&lt;blob&gt;=0x53697465735C2D5369746537  <span class="string">"Sites\134-Site7"</span></div><div class="line">    <span class="string">"invi"</span>&lt;sint32&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"mdat"</span>&lt;timedate&gt;=0x32303132303130353137323635325A00  <span class="string">"20120105172652Z\000"</span></div><div class="line">    <span class="string">"nega"</span>&lt;sint32&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"prot"</span>&lt;blob&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"scrp"</span>&lt;sint32&gt;=&lt;NULL&gt;</div><div class="line">    <span class="string">"svce"</span>&lt;blob&gt;=<span class="string">"some-service-name"</span></div><div class="line">    <span class="string">"type"</span>&lt;uint32&gt;=&lt;NULL&gt;</div><div class="line">data:</div><div class="line"><span class="string">"probablyThePWOrCert"</span></div></pre></td></tr></table></figure></p>
<h2 id="Converting-keychain-items-to-csv"><a href="#Converting-keychain-items-to-csv" class="headerlink" title="Converting keychain items to csv"></a>Converting keychain items to csv</h2><p>Thats cool and all but what a crappy format. I needed to convert this format to something a little more tangible for pass to import. I thought CSV would probably be a good format thats widely used and easy to parse so I tracked down a useful script to do just that written in Ruby.<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#!/usr/bin/env ruby                                                                                                                                                                                                          </span></div><div class="line"><span class="comment">#                                                                                                                                                                                                                            </span></div><div class="line"><span class="comment"># Usage:                                                                                                                                                                                                                     </span></div><div class="line"><span class="comment">#   security dump-keychain -d login.keychain &gt; keychain_logins.txt                                                                                                                                                           </span></div><div class="line"><span class="comment">#   # Lots of clicking 'Always Allow', or just 'Allow', until it's done...                                                                                                                                                   </span></div><div class="line"><span class="comment">#   curl -O curl -O https://raw.github.com/gist/1224792/06fff24412311714ad6534ab700a7d603c0a56c9/keychain.rb</span></div><div class="line"><span class="comment">#   chmod a+x ./keychain.rb                                                                                                                                                                                                  </span></div><div class="line"><span class="comment">#   ./keychain.rb keychain_logins.txt | sort &gt; logins.csv                                                                                                                                                                    </span></div><div class="line"><span class="comment">#                                                                                                                                                                                                                            </span></div><div class="line"><span class="comment"># Then import logins.csv in 1Password using the format:                                                                                                                                                                      </span></div><div class="line"><span class="comment"># Title, URL/Location, Username, Password                                                                                                                                                                                    </span></div><div class="line"><span class="comment"># Remember to check 'Fields are quoted', and the Delimiter character of 'Comma'.                                                                                                                                             </span></div><div class="line"><span class="keyword">require</span> <span class="string">'date'</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">KeychainEntry</span></span></div><div class="line">  <span class="keyword">attr_accessor</span> <span class="symbol">:fields</span></div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(keychain)</span></span></div><div class="line">    last_key = <span class="literal">nil</span></div><div class="line">    @fields = &#123;&#125;</div><div class="line">    data = <span class="literal">nil</span></div><div class="line">    aggregate = <span class="literal">nil</span></div><div class="line">    lines = keychain.split(<span class="string">"\n"</span>)</div><div class="line">    lines.each <span class="keyword">do</span> <span class="params">|line|</span></div><div class="line">      <span class="comment"># Everything after the 'data:' statement is data.</span></div><div class="line"></div><div class="line">      <span class="keyword">if</span> data != <span class="literal">nil</span></div><div class="line">        data &lt;&lt; line</div><div class="line">      <span class="keyword">elsif</span> aggregate != <span class="literal">nil</span></div><div class="line">        <span class="keyword">if</span> ( line[<span class="number">0</span>] == <span class="number">32</span> <span class="params">||</span> line[<span class="number">0</span>] == <span class="string">" "</span> )</div><div class="line">          keyvalue = line.split(<span class="string">'='</span>, <span class="number">2</span>).collect &#123; <span class="params">|kv|</span> kv.strip &#125;</div><div class="line">          aggregate[keyvalue.first] = keyvalue.last</div><div class="line">        <span class="keyword">else</span></div><div class="line">          @fields[last_key] = aggregate</div><div class="line">          aggregate = <span class="literal">nil</span></div><div class="line">        <span class="keyword">end</span></div><div class="line">      <span class="keyword">end</span></div><div class="line"></div><div class="line">      <span class="keyword">if</span> aggregate == <span class="literal">nil</span></div><div class="line">        parts = line.split(<span class="string">':'</span>).collect &#123; <span class="params">|piece|</span> piece.strip &#125;</div><div class="line">        <span class="keyword">if</span> parts.length &gt; <span class="number">1</span></div><div class="line">          @fields[parts.first] = parts.last</div><div class="line">        <span class="keyword">else</span></div><div class="line">          last_key = parts.first</div><div class="line">          data = [] <span class="keyword">if</span> parts.first == <span class="string">"data"</span></div><div class="line">          aggregate = &#123;&#125;</div><div class="line">        <span class="keyword">end</span></div><div class="line">      <span class="keyword">end</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">    @fields[<span class="string">"data"</span>] = data.join(<span class="string">" "</span>) <span class="keyword">if</span> data</div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">q</span><span class="params">(string)</span></span></div><div class="line">  <span class="string">"\"<span class="subst">#&#123;string&#125;</span>\""</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_entry</span><span class="params">(entry_string)</span></span></div><div class="line">  entry = KeychainEntry.new(entry_string)</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keyword">if</span> entry.fields[<span class="string">'class'</span>] == <span class="string">'"inet"'</span> &amp;&amp; [<span class="string">'"form"'</span>, <span class="string">'"dflt"'</span>].<span class="keyword">include</span>?(entry.fields[<span class="string">'attributes'</span>][<span class="string">'"atyp"&lt;blob&gt;'</span>])</div><div class="line">    site = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"srvr"&lt;blob&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</div><div class="line">    path = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"path"&lt;blob&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</div><div class="line">    proto= entry.fields[<span class="string">'attributes'</span>][<span class="string">'"ptcl"&lt;uint32&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</div><div class="line">    proto.to_s.gsub!(<span class="string">'htps'</span>, <span class="string">'https'</span>);</div><div class="line">    user = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"acct"&lt;blob&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</div><div class="line">    <span class="comment">#user = entry.fields['attributes']['0x00000007 &lt;blob&gt;'].gsub!('"', '')</span></div><div class="line">    date_string = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"mdat"&lt;timedate&gt;'</span>].to_s.gsub(<span class="regexp">/0x[^ ]+[ ]+/</span>, <span class="string">''</span>).to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</div><div class="line">    date = DateTime.parse(date_string)</div><div class="line">    pass = entry.fields[<span class="string">'data'</span>][<span class="number">1</span>..-<span class="number">2</span>]</div><div class="line">    path = <span class="string">''</span> <span class="keyword">if</span> path == <span class="string">'&lt;NULL&gt;'</span></div><div class="line">    url = <span class="string">"<span class="subst">#&#123;proto&#125;</span>://<span class="subst">#&#123;site&#125;</span><span class="subst">#&#123;path&#125;</span>"</span></div><div class="line"></div><div class="line">    <span class="comment">#puts "\"#&#123;site&#125;\",\"#&#123;url&#125;\",\"#&#123;user&#125;\",\"#&#123;pass&#125;\",\"#&#123;date&#125;\""</span></div><div class="line">    puts <span class="string">"<span class="subst">#&#123;site&#125;</span>,<span class="subst">#&#123;url&#125;</span>,<span class="subst">#&#123;user&#125;</span>,<span class="subst">#&#123;pass&#125;</span>,<span class="subst">#&#123;date&#125;</span>"</span></div><div class="line">    <span class="comment">#puts "#&#123;user&#125;, #&#123;pass&#125;, #&#123;date&#125;"</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">accum = <span class="string">''</span></div><div class="line">ARGF.each_line <span class="keyword">do</span> <span class="params">|line|</span></div><div class="line">  <span class="keyword">if</span> line =~ <span class="regexp">/^keychain: /</span></div><div class="line">    <span class="keyword">unless</span> accum.empty?</div><div class="line">      process_entry(accum)</div><div class="line">      accum = <span class="string">''</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line">  accum += line</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure></p>
<p>This beautiful thing goes through the keychain items exported from the security dump command and converts that to a new file in csv format. I ran it something like<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby keychain.rb keychain.txt | sort &gt; keychain.csv</div></pre></td></tr></table></figure></p>
<h2 id="Importing-items-into-pass"><a href="#Importing-items-into-pass" class="headerlink" title="Importing items into pass"></a>Importing items into pass</h2><p>Finally the moment of truth where we get to import things into pass and shutdown keychain for good. So far I haven’t invested much time into this and thats good because I don’t have time to write a whole library to export/import this stuff. Assuming that the last script was successful in converting these items its time to import them with a simple bash script to parse the csv.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">INPUT=keychain.csv</div><div class="line">OLDIFS=<span class="variable">$IFS</span></div><div class="line">IFS=,</div><div class="line">[ ! <span class="_">-f</span> <span class="variable">$INPUT</span> ] &amp;&amp; &#123; <span class="built_in">echo</span> <span class="string">"<span class="variable">$INPUT</span> file not found"</span>; <span class="built_in">exit</span> 99; &#125;</div><div class="line"><span class="keyword">while</span> <span class="built_in">read</span> flname url uname pass time</div><div class="line"><span class="keyword">do</span></div><div class="line">	<span class="built_in">printf</span> <span class="string">"<span class="variable">$pass</span>\n<span class="variable">$username</span>\n<span class="variable">$url</span>"</span> | pass insert -m Imported-final/<span class="variable">$flname</span>-<span class="variable">$uname</span></div><div class="line"><span class="keyword">done</span> &lt; <span class="variable">$INPUT</span></div><div class="line">IFS=<span class="variable">$OLDIFS</span></div></pre></td></tr></table></figure></p>
<p>Everything worked out fine even with hacking together a few scripts and I had all of my items in pass in less than a half hour. As a note the conversion didn’t get me anything from keychain except for internet passwords which is all I cared about.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/29/vvv-multiple-projects-with-vagrant-share/" itemprop="url">
                  VVV multiple projects with vagrant share
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-29T10:07:04-06:00" content="2015-07-29">
              2015-07-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The vagrant share command is totally underused and working in a remote company it’s also totally necessary. Nearly everyday I’m asked to troubleshoot a piece of code or help figure out a bug. Usually I need some context in order to help so I say “can you share your screen” or “would you mind pushing that up to staging and I’ll have a look at it later”. That’s just no good because it creates a time gap where I can’t help them. And oftentimes by the times I get around to taking a look they’ve already given up or went another route. That just sucks and there has to be a better way right? Well, there is and it’s called <code>vagrant share</code>. But there is one issue and that is by default it shares the default configuration for the VM which working in VVV is the default screen which isn’t very useful in debugging a site. But there is hope yet.</p>
<p>Luckily with the vagrant share command you can specify a port as one of the flags. So this got me thinking I wonder if… You setup a site with it’s own port you could theoretically access each site like it was it’s own box right? I just blew my own mind in the process. Oh the possibilities.</p>
<p>So I added this to my Vagrantfile<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">VAGRANTFILE_API_VERSION = &quot;2&quot;</div><div class="line">    Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|</div><div class="line">    config.vm.network &quot;forwarded_port&quot;, guest: 85, host: 8085</div><div class="line">end</div></pre></td></tr></table></figure></p>
<p>And then I changed my nginx port to listen on port 85 like so</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">listen 85;</div></pre></td></tr></table></figure>
<p>So now I’m thinking cool let’s fire this up and see if it works so I type</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vagrant share --http 85</div></pre></td></tr></table></figure>
<p>And that works just fine if you take WordPress out of the situation but that defeats the purpose here since I work with primarily with WordPress. So, what do I do now? We’re getting passed all of the checkpoints on this except for WordPress and the reason is it’s determining the home and site url either by the DB or the wp-config file. What we need to do here is make the install URL agnostic so that it will work with any domain.</p>
<p>We we need to either change tht in the DB or update the config. Updating the config is much easier so let’s just do that.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">'WP_HOME'</span>,    <span class="string">"http://&#123;$_SERVER['HTTP_HOST']&#125;/"</span>);</div><div class="line">define(<span class="string">'WP_SITEURL'</span>, <span class="string">"http://&#123;$_SERVER['HTTP_HOST']&#125;/"</span>);</div></pre></td></tr></table></figure>
<p>Bam! we are in business you type up <code>vagrant share --http 85</code> and everything runs cool as ice.</p>
<p>But what about images? And other things? Just throw in a proxy pass like in the example below and everything works wonderfully.</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="section">server</span> &#123;</div><div class="line">    <span class="attribute">listen</span>       <span class="number">85</span>;</div><div class="line">    <span class="attribute">listen</span>       <span class="number">443</span> ssl;</div><div class="line">    <span class="attribute">server_name</span>  site.dev <span class="regexp">*.site.dev</span>;</div><div class="line">    <span class="attribute">root</span>         /srv/www/site;</div><div class="line">    <span class="attribute">include</span>      /etc/nginx/nginx-wp-common.conf;</div><div class="line"></div><div class="line">    <span class="attribute">location</span> <span class="regexp">~* \.(js|css|png|jpg|jpeg|gif|ico|mp3|mov|tif|tiff|swf|txt|html)$</span> &#123;</div><div class="line">        <span class="attribute">expires</span> <span class="number">24h</span>;</div><div class="line">        <span class="attribute">log_not_found</span> <span class="literal">off</span>;</div><div class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ <span class="variable">@production</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="attribute">location</span> <span class="variable">@production</span> &#123;</div><div class="line">        <span class="attribute">resolver</span> <span class="number">8.8.8.8</span>;</div><div class="line">        <span class="attribute">proxy_pass</span> http://www.site.com/<span class="variable">$uri</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now anyone you share that with will be able to help checkout your local machine without any trouble they can even login and poke around the admin.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/25/down-with-the-gui/" itemprop="url">
                  Down with the GUI
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-25T10:07:04-06:00" content="2015-07-25">
              2015-07-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>It’s been almost 2 years now since I abolished the GUI in my day to day workflow. I made a decision to throw out all of the GUI tools that I could and opt for command line whenever possible. What I had hoped to achieve was proficiency and efficiency by consolidating my working tools into one. Over the years I have worked with almost every trendy IDE and newest app I could find. You could imagine that at first it was a tough move previously I had relied on those applications to achieve more complex tasks like resolving git conflicts, stepping through code, or interfacing with a database. But none the less I felt like something was being lost in that process of using a GUI and that is an understanding of the operations that are being performed behind the scenes through the application. When its just a few clicks you lose that expertise in the fundamentals of the technology your using and I think that hurts us professionally in the end. As an example I work with MySQL quite a lot and there is a popular tool that most engineers I know use which is an awesome GUI BTW. But… There are some inherit downfalls to using it like limitations in querying power, total insight into the database, potentially outdated data not synced up with what’s actually in the current datastore, etc. How bad would it be if you were investigating faulty data only to find out that it wasn’t what was actually in the database because the results weren’t what they should be. Your led down the wrong path with false information wasting time on something that could have been avoided. For every GUI there is a downfall that usually comes at the price of convenience vs. knowing the technology that your interfacing with well enough to not use the GUI. In the end most GUIs are just a wrapper for the CLI anyhow so why not learn the source and forget the GUI.</p>
<h2 id="Consolidation-leads-to-efficiency-and-power"><a href="#Consolidation-leads-to-efficiency-and-power" class="headerlink" title="Consolidation leads to efficiency and power"></a>Consolidation leads to efficiency and power</h2><p>By moving to the command line I’m able to consolidate virtually all of my tools into one interface no more flip flopping between multiple apps to do my work. Which usually consists of using the mouse to select the app and switching to another screen moving data from one screen to another like copy/paste. Now I rarely have to take my fingers off of the keyboard to use the mouse and that saves time and increases efficiency. There is also the power of having full system control in one spot at said fingertips. This is transferable to other systems as almost seamlessly. For instance if I need to work on a server and my local machine I have full insight into both from one spot. Since I’m already used to using CLI I’m proficient on the remote system just as much as locally. This offers a huge advantage in fixing production issues because managing them is the same process and there is no disconnect from system to system.</p>
<h2 id="Lifespan-of-CLI"><a href="#Lifespan-of-CLI" class="headerlink" title="Lifespan of CLI"></a>Lifespan of CLI</h2><p>Another major advantage of using the CLI is that it will live forever which IMO is just another reason it is the Alpha and the Omega. Because it will live forever you will never have to learn yet another IDE or app and reinvest time and money into them a few years from now. Which pretty much sets you back at square one again. Sure, those apps are shiny and always have a few cool features but it’s totally new and in another couple of years your going to have make yet another transition. By sticking to strictly CLI is enables the user to build upon what they already have and integrate new more powerful CLI tools over time making the engineer that much more effective in the end.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/22/git-hooks/" itemprop="url">
                  Git Hooks
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-22T10:07:04-06:00" content="2015-07-22">
              2015-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="What-is-a-git-hook"><a href="#What-is-a-git-hook" class="headerlink" title="What is a git hook?"></a>What is a git hook?</h2><p>Git hooks are surprisingly something developers know nothing about or have even heard of.  Which is weird because it’s one of those things that you should no doubt be using in your git workflow. If utilized they will take out some of those redundant tasks that you just hate doing or completely forget about. They can also improve code quality across projects with specific needs. I can’t stress enough how happy you will be by learning how to us git hooks and integrating them into your project.</p>
<p>A git hook is a bash script that is ran at certain periods in the execution process when you are working with git. For instance if you are about to push there is the hook <code>pre-push</code> which can be used to execute a script before a push occurs. The script can do anything you want really. You can check your codebase for certain flaws, send out a tweet, or anything to your liking really.</p>
<h2 id="Configure-your-first-hook"><a href="#Configure-your-first-hook" class="headerlink" title="Configure your first hook"></a>Configure your first hook</h2><p>By default git has it’s own hooks and init dir which is dependent on your system. These hooks are included in every repo that you create on your system by default and you can check them out by having a look at your <code>.git</code> dir in one of your projects. There are also sample hooks in the <code>.git/hooks</code> dir by default so you can have a look at those for more insight.</p>
<p>To start we’ll need to create a custom directory where we want to store our git templates. I keep any custom code on my machine in my home directory under <code>~/.code/</code> so I have mine configured like so.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global init.templatedir &apos;~/.code/.git_template&apos;</div></pre></td></tr></table></figure>
<p>If we check our globals for git we should see something like</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config -l</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">init.templatedir=~/.code/.git_template</div></pre></td></tr></table></figure>
<p>The directory can be named anything you want really and doesn’t have to be named the same as mine. After you set your global template directory you will need to add a <strong>hooks</strong> directory under that.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd ~/.code/.git_template &amp;&amp; mkdir hooks</div></pre></td></tr></table></figure>
<p>Now you should see a hooks directory and we will need to set the proper permissions to make the scripts executable.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod ug+x ~/.code/.git_template/hooks/*</div></pre></td></tr></table></figure>
<p>Next we will want to create a hook inside that hooks dir and we are going to keep is simple. What we are going to do is write a simple bash script that will prepend the current branch name to our commit message. This is useful if your working with multiple branches and want to have a hard reference to that branch name after it has been merged into other branches. I use if for feature branch on occasion and it has proven useful.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">touch ~/.code/.git_template/hooks/prepare-commit-msg</div></pre></td></tr></table></figure>
<p>If you like here is a sample of that code. What it does is simply get the branch name and checks if we are on master or develop. If we aren’t on either of those branches then it will prepend the current branch wrapped in square brackets to our commit message.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line"><span class="comment"># This way you can customize which branches should be skipped when prepending the commit message.</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$BRANCHES_TO_SKIP</span>"</span> ]; <span class="keyword">then</span></div><div class="line"> <span class="comment"># Define the branches to skip if your on an of these branches</span></div><div class="line"> BRANCHES_TO_SKIP=(master develop)</div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line">BRANCH_NAME=$(git symbolic-ref --short HEAD)</div><div class="line">BRANCH_NAME=<span class="string">"<span class="variable">$&#123;BRANCH_NAME##*/&#125;</span>"</span></div><div class="line"></div><div class="line">BRANCH_EXCLUDED=$(<span class="built_in">printf</span> <span class="string">"%s\n"</span> <span class="string">"<span class="variable">$&#123;BRANCHES_TO_SKIP[@]&#125;</span>"</span> | grep -c <span class="string">"^<span class="variable">$BRANCH_NAME</span>$"</span>)</div><div class="line">BRANCH_IN_COMMIT=$(grep -c <span class="string">"\[<span class="variable">$BRANCH_NAME</span>\]"</span> <span class="variable">$1</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$BRANCH_NAME</span>"</span> ] &amp;&amp; ! [[ <span class="variable">$BRANCH_EXCLUDED</span> <span class="_">-eq</span> 1 ]] &amp;&amp; ! [[ <span class="variable">$BRANCH_IN_COMMIT</span> -ge 1 ]]; <span class="keyword">then</span></div><div class="line"> sed -i.bak <span class="_">-e</span> <span class="string">"1s/^/[<span class="variable">$BRANCH_NAME</span>] /"</span> <span class="variable">$1</span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure>
<h2 id="Adding-your-hooks-to-your-project"><a href="#Adding-your-hooks-to-your-project" class="headerlink" title="Adding your hooks to your project"></a>Adding your hooks to your project</h2><p>After you’ve created your git hook navigate to a project that you don’t mind testing out this nifty new script on and type.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git init</div></pre></td></tr></table></figure>
<p>This should pull in your new hooks configuration into that repo for you to use. If you want to verify that they are there you can navigate to the <code>.git/hooks</code> directory in your project and check if the files are there and current. Sometimes it doesn’t initialize properly so just be weary of that. Create a new branch and name it anything you like as long as it’s not in that list of <code>BRANCHES_TO_SKIP</code>. Once you complete your changes write up your commit message as usual and you should see the branch name appended to the commit message the you just typed up.</p>
<p>Really that’s it! You can get as creative as you like with these scripts. For instance you can check for debugging chunks of code or keywords such as <code>console.log</code> or  <code>var_dump</code> that should probably be excluded from your production code.</p>
<p><strong>Go forth and work smarter not harder!</strong></p>
<p><a href="http://git-scm.com/book/fr/v2/Customizing-Git-Git-Hooks" target="_blank" rel="external">More information on git hooks</a></p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/22/vvv-php-code-sniffer-with-wordpress/" itemprop="url">
                  VVV PHP Code Sniffer with WordPress
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-22T10:07:04-06:00" content="2015-07-22">
              2015-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Unbekownst to a lot of people that use VVV even on a daily basis is that there is a built in code sniffer or <strong>CS</strong> integrated into the machine that can be really useful if your committing code and want to maintain a higher standard. If you’ve provisioned the box then sitting inside your <strong>www</strong> directory there should be another directory called <strong>phpcs</strong> which stands for “PHP Code Sniffer”.</p>
<h2 id="Sniffing-Code-from-the-console"><a href="#Sniffing-Code-from-the-console" class="headerlink" title="Sniffing Code from the console"></a>Sniffing Code from the console</h2><p>After you’ve booted up the vm you’ll want to <code>vagrant ssh</code> into the box and check if phpcs is installed by typing <code>which phpcs</code> which should return the its executable path which is something like <code>/srv/www/phpcs/scripts/phpcs</code>. If nothing is returned then you need to add the executable to your path but it should be there by default when you provision the machine.</p>
<p>Using the built in php code sniffer with WordPress is easy. Once we’ve verified that phpcs is on the box and it’s executable then we need to test out a file to see if it’s up to coding standard. Let’s check out our <strong>wp-config.php</strong> file by running <code>phpcs /srv/www/wordpress-default/wp-config.php</code> . This should return results similar to those below.</p>
<p>Keep in mind that this sniffed using the default PEAR standard for the file and since we are working with WordPress we want a standard that is more our ballgame but to see which ones are installed type <code>phpcs -i</code> After that pick a standard listed, I’m going to use WordPress </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">phpcs /srv/www/wordpress-default/wp-config.php --standard=WordPress`</div></pre></td></tr></table></figure>
<p>Notice now that the results are slightly different since we are using the WordPress standard to sniff our code. That’s a lot of errors though and I don’t want to manually go through and find them all fixing them on by one. That would be so boring and take way too long so let’s fix them in one go. Notice the message at the bottom of that command output.</p>
<p><strong>PHPCBF CAN FIX THE MARKED SNIFF VIOLATIONS AUTOMATICALLY</strong></p>
<h2 id="Fixing-Code"><a href="#Fixing-Code" class="headerlink" title="Fixing Code"></a>Fixing Code</h2><p>Is totally something you don’t want to miss and is just as easy to use as phpcs. If you don’t already have a patch or diff application setup for phpcbf then you’ll probably want to pass the flag <strong>–no-patch</strong> along with this next command otherwise you will most likely get an error. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">phpcbf --standard=WordPress --no-patch /srv/www/wordpress-default/wp-config.php`</div></pre></td></tr></table></figure>
<p>Now those errors should be all fixes to that coding standard. If you were to run the <strong>phpcs </strong>command again then the errors in question should no longer show up in the sniff results.</p>
<p>You can also fix entire directories using these tools but just be warned that though it works pretty well sometimes you just don’t get all of the perfect code that you expected.</p>
<p>As a note for those that work with <strong>VIP QuickStart</strong> the same packages are installed on the Vagrant box as well and can be used in the same fashion. If your a vim user I’ve found that this <a href="http://vimawesome.com/plugin/phpcs-vim&quot;" target="_blank" rel="external">plugin</a> works well.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/06/20/why-i-moved-from-wordpress-to-hexo/" itemprop="url">
                  Why I moved from WordPress to Hexo
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-06-20T22:17:42-06:00" content="2015-06-20">
              2015-06-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="WTF-is-Hexo"><a href="#WTF-is-Hexo" class="headerlink" title="WTF is Hexo?"></a>WTF is Hexo?</h2><p>Hexo is a static site generator built on node.js similar to jekyll, poet, wintersmith, etc. There are a ton of them out there but I liked this one the most and it gave me what I wanted. Which was a static site generator with a cli interface written in node which I could port wherever I wanted for free hosting.</p>
<h2 id="No-cost-and-less-headaches"><a href="#No-cost-and-less-headaches" class="headerlink" title="No cost and less headaches"></a>No cost and less headaches</h2><p>Though I’m not cheap I don’t really like dishing out even $5 a month for hosting when I can get it for free. GitHub offers GitHub pages which serve up static sites and <a href="https://hexo.io" target="_blank" rel="external">Hexo</a> fits well into that very well. Of course there’s jekyll but I wanted something different and new so I went looking for something built on top of node. That yielded a few results like <a href="http://jsantell.github.io/poet/" target="_blank" rel="external">poet</a> which looks pretty hip and all but it didn’t seem to statically generate the site. There’s really no good reason for me to want to dick around with any type of hosting whether its VPS, shared, WPEngine, or hosted on WordPress.com. Why should I bother and waste the time when all I need is a simple blog? It’s not like I write that much anyways. There’s simply too much overhead to run a simple WordPress blog and it’s super annoying to mess around with updates, spammers, caching issues, downtime, etc. It’s a pain in the ass! If GitHub goes down I’m pretty confident that my site isn’t going to suffer much in the end and I don’t have to worry about any other logistics other than deploying my site. </p>
<p>It also extremeley portable because everything is written in markdown I can take my posts with me wherever I go. I usually write everything in markdown on WordPress anyways and it likes to fight between using markdown and html. With Hexo I can write my posts in vim and deploy in one simple command.</p>
<h2 id="It’s-fresh"><a href="#It’s-fresh" class="headerlink" title="It’s fresh"></a>It’s fresh</h2><p>I’m excited to work with node and all things built on node so any chance I get to move towards using it is a step towards progress IMO. In a world where what you learned last week may no longer be in fashion WordPress is like a dude wearing socks with sandals. Hexo is pretty new still with it’s very first release being in October of 2012 it offers a pretty powerful API and a nice cli out of the box. But duh, it’s not a CMS replacement for Wordpress but definitely a competitor to jekyll and other static site generators out there.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/07/24/composer-and-wpackagist-commercial-plugins/" itemprop="url">
                  Composer and wpackagist commercial plugins
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2014-07-24T10:07:04-06:00" content="2014-07-24">
              2014-07-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>With composer and wpackagist sometimes you want to include a package that isn’t listed nor does it have a composer.json file. This could be a commercial plugin or something else that might live in a repo or a zip somewhere on the web. It seems like information for this would be fairly easy to find but from what I could tell there wasn’t anything to connect all the dots for doing this. I’ve noticed that most people will include the publicly available ones in their composer file and leave everything else out leaving other engineers to scramle together finding the dependancies they need and installing them manually. This leaves me to believe that they have given up on finding a solution to the problem otherwise they would just include it in the first place.</p>
<p>It turns out it’s relatively straightforward but the information is disjointed and difficult to find. The trick is you have to define the package from within your composer file. They will then be included as wpackagist plugins just the same as public ones.<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"name"</span>: <span class="string">"the-project-name"</span>,</div><div class="line">    <span class="attr">"type"</span>: <span class="string">"wordpress-theme"</span>,</div><div class="line">    <span class="attr">"require"</span>: &#123;</div><div class="line">        <span class="attr">"wpackagist-plugin/wordpress-importer"</span>: <span class="string">"0.6.1"</span>,</div><div class="line">        <span class="attr">"wpackagist-plugin/gravity-forms-custom-add-on"</span>: <span class="string">"1.0"</span>, </div><div class="line">        <span class="attr">"wpackagist-plugin/gravity-forms"</span>: <span class="string">"1.0"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"repositories"</span>: [</div><div class="line">        &#123;</div><div class="line">            <span class="attr">"type"</span>: <span class="string">"composer"</span>,</div><div class="line">            <span class="attr">"url"</span>: <span class="string">"http://wpackagist.org"</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            <span class="attr">"type"</span>: <span class="string">"package"</span>,</div><div class="line">            <span class="attr">"package"</span>: &#123;</div><div class="line">                    <span class="attr">"name"</span>: <span class="string">"wpackagist-plugin/gravity-forms-custom-add-on"</span>,</div><div class="line">                    <span class="attr">"version"</span>: <span class="string">"1.0"</span>,</div><div class="line">                    <span class="attr">"type"</span>: <span class="string">"wordpress-plugin"</span>,</div><div class="line">                    <span class="attr">"source"</span>: &#123;</div><div class="line">                            <span class="attr">"url"</span>: <span class="string">"git@github.com:name/gravity-forms-custom-add-on.git"</span>,</div><div class="line">                            <span class="attr">"type"</span>: <span class="string">"git"</span>,</div><div class="line">                            <span class="attr">"reference"</span>: <span class="string">"origin/master"</span></div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;, </div><div class="line">        &#123;</div><div class="line">            <span class="attr">"type"</span>: <span class="string">"package"</span>,</div><div class="line">            <span class="attr">"package"</span>: &#123;</div><div class="line">                    <span class="attr">"name"</span>: <span class="string">"wpackagist-plugin/gravity-forms"</span>,</div><div class="line">                    <span class="attr">"version"</span>: <span class="string">"1.0"</span>,</div><div class="line">                    <span class="attr">"type"</span>: <span class="string">"wordpress-plugin"</span>,</div><div class="line">                    <span class="attr">"dist"</span>: &#123;</div><div class="line">                            <span class="attr">"url"</span>: <span class="string">"https://github.com/name/gravity-forms/archive/master.zip"</span>,</div><div class="line">                            <span class="attr">"type"</span>: <span class="string">"zip"</span>, </div><div class="line">                            <span class="attr">"reference"</span>: <span class="string">"master"</span></div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    ],</div><div class="line">        <span class="attr">"extra"</span>: &#123;</div><div class="line">        <span class="attr">"installer-paths"</span>: &#123;</div><div class="line">            <span class="attr">"plugins/&#123;$name&#125;"</span>: [</div><div class="line">                <span class="string">"type:wordpress-plugin"</span></div><div class="line">            ]</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/07/22/back-to-vim/" itemprop="url">
                  Back to Vim
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2014-07-22T10:07:04-06:00" content="2014-07-22">
              2014-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>I’m making the move back to Vim because it blows everything else out of the water. I’ve had about a two year period of time where I’ve been trying other editors as my primary and they all seem to offer promise but in the end they fall short of what you can do with Vim  It wins every time for me because it’s a portable and powerful interface into editing text.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://www.dropbox.com/s/hz9556kjhkkg0hq/bio.png?raw=1"
               alt="Brandon Camenisch" />
          <p class="site-author-name" itemprop="name">Brandon Camenisch</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">9</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/brandoncamenisch" target="_blank" title="GitHub">
                  
                    <i class="fa fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  1995 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Brandon Camenisch</span>
</div>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
