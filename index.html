<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo,next" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Brandon Camenisch">
<meta property="og:url" content="http://www.brandoncamenisch.com/index.html">
<meta property="og:site_name" content="Brandon Camenisch">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brandon Camenisch">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Brandon Camenisch </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Brandon Camenisch</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about.html" rel="section">
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/27/migrating-from-osx-keychain-to-unix-pass/" itemprop="url">
                  Migrating from OSX keychain to Unix pass
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-27T12:20:44-06:00" content="2016-06-27">
              2016-06-27
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>For some time now I’ve been wanting to move away from using Apple products so that I can make a smoother transition to using another primary OS. Most of my reasoning is security and politics but I particularly find security to be a weak player on how keychain access is stored and managed on OS X. There are more than a few articles explaining how Apple fails at security especially with their iCloud services. There are a few roadblocks that stand in the way and one is the massive password/credentials export that needs to happen to make migration a reality. For me using a service for password management is not an idea I’m not fond of as services come and go oftentimes with their own stipulations and drawbacks. I could also save all of my password data in the browser and use that but thats as bad or worse as Apples security practices and though convenient it’s also not a safe solution either and is frequently prone to browser plugin hacks and lackluster security. I wanted something that I could maintain full control over that was battle tested and open source. But that would also transition seamlessly between multiple machines with ease. Enter <a href="https://www.passwordstore.org/" target="_blank" rel="external">pass</a> a simple management solution that I found that will do everything that I want. Theres just one roadblock I had to get around to make it work. And that was exporting all of my sensitive data from keychain and getting it into pass in a usable format. There are a few useful guides and scripts on migrating to pass but nothing specifically for OS X users moving off of keychain. So, what’s left for me to do other than write my own? It doesn’t have to be great it just has to work.</p>
<h2 id="Getting-everything-out-of-keychain"><a href="#Getting-everything-out-of-keychain" class="headerlink" title="Getting everything out of keychain"></a>Getting everything out of keychain</h2><p>The first step was to get all of my data off of keychain but the GUI didn’t want to cooperate and wouldn’t let me export even a single item so back to good ol’ cli to make things happen. Luckily there is the <code>security</code> command baked into OS X that could do the job which offers some really nice features to interact with pwds and other items in the keychain.</p>
<blockquote>
<p>To start the export I entered this command to dump the keychain items into a plaintext file. Which unfortunately brings up a prompt where you have to allow access to each item in the keychain. There are some apple scripts out there that should do the job but they didn’t work from the start for me so I just used automator to create a quick task and click through the prompts.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">security dump-keychain <span class="_">-d</span> login.keychain &gt; keychain</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>Now I had all of my passwords out there in plaintext and for each item that was exported I got something like this for each of them.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">keychain: <span class="string">"/Users/you/Library/Keychains/login.keychain"</span></span><br><span class="line">version: 256</span><br><span class="line">class: <span class="string">"genp"</span></span><br><span class="line">attributes:</span><br><span class="line">    0x00000007 &lt;blob&gt;=<span class="string">"somesite.com"</span></span><br><span class="line">    0x00000008 &lt;blob&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"acct"</span>&lt;blob&gt;=<span class="string">"username"</span></span><br><span class="line">    <span class="string">"cdat"</span>&lt;timedate&gt;=0x32303132303130353137323635325A00  <span class="string">"20120105172652Z\000"</span></span><br><span class="line">    <span class="string">"crtr"</span>&lt;uint32&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"cusi"</span>&lt;sint32&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"desc"</span>&lt;blob&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"gena"</span>&lt;blob&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"icmt"</span>&lt;blob&gt;=0x53697465735C2D5369746537  <span class="string">"Sites\134-Site7"</span></span><br><span class="line">    <span class="string">"invi"</span>&lt;sint32&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"mdat"</span>&lt;timedate&gt;=0x32303132303130353137323635325A00  <span class="string">"20120105172652Z\000"</span></span><br><span class="line">    <span class="string">"nega"</span>&lt;sint32&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"prot"</span>&lt;blob&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"scrp"</span>&lt;sint32&gt;=&lt;NULL&gt;</span><br><span class="line">    <span class="string">"svce"</span>&lt;blob&gt;=<span class="string">"some-service-name"</span></span><br><span class="line">    <span class="string">"type"</span>&lt;uint32&gt;=&lt;NULL&gt;</span><br><span class="line">data:</span><br><span class="line"><span class="string">"probablyThePWOrCert"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Converting-keychain-items-to-csv"><a href="#Converting-keychain-items-to-csv" class="headerlink" title="Converting keychain items to csv"></a>Converting keychain items to csv</h2><p>Thats cool and all but what a crappy format. I needed to convert this format to something a little more tangible for pass to import. I thought CSV would probably be a good format thats widely used and easy to parse so I tracked down a useful script to do just that written in Ruby.<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env ruby                                                                                                                                                                                                          </span></span><br><span class="line"><span class="comment">#                                                                                                                                                                                                                            </span></span><br><span class="line"><span class="comment"># Usage:                                                                                                                                                                                                                     </span></span><br><span class="line"><span class="comment">#   security dump-keychain -d login.keychain &gt; keychain_logins.txt                                                                                                                                                           </span></span><br><span class="line"><span class="comment">#   # Lots of clicking 'Always Allow', or just 'Allow', until it's done...                                                                                                                                                   </span></span><br><span class="line"><span class="comment">#   curl -O curl -O https://raw.github.com/gist/1224792/06fff24412311714ad6534ab700a7d603c0a56c9/keychain.rb</span></span><br><span class="line"><span class="comment">#   chmod a+x ./keychain.rb                                                                                                                                                                                                  </span></span><br><span class="line"><span class="comment">#   ./keychain.rb keychain_logins.txt | sort &gt; logins.csv                                                                                                                                                                    </span></span><br><span class="line"><span class="comment">#                                                                                                                                                                                                                            </span></span><br><span class="line"><span class="comment"># Then import logins.csv in 1Password using the format:                                                                                                                                                                      </span></span><br><span class="line"><span class="comment"># Title, URL/Location, Username, Password                                                                                                                                                                                    </span></span><br><span class="line"><span class="comment"># Remember to check 'Fields are quoted', and the Delimiter character of 'Comma'.                                                                                                                                             </span></span><br><span class="line"><span class="keyword">require</span> <span class="string">'date'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KeychainEntry</span></span></span><br><span class="line">  <span class="keyword">attr_accessor</span> <span class="symbol">:fields</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(keychain)</span></span></span><br><span class="line">    last_key = <span class="literal">nil</span></span><br><span class="line">    @fields = &#123;&#125;</span><br><span class="line">    data = <span class="literal">nil</span></span><br><span class="line">    aggregate = <span class="literal">nil</span></span><br><span class="line">    lines = keychain.split(<span class="string">"\n"</span>)</span><br><span class="line">    lines.each <span class="keyword">do</span> <span class="params">|line|</span></span><br><span class="line">      <span class="comment"># Everything after the 'data:' statement is data.</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> data != <span class="literal">nil</span></span><br><span class="line">        data &lt;&lt; line</span><br><span class="line">      <span class="keyword">elsif</span> aggregate != <span class="literal">nil</span></span><br><span class="line">        <span class="keyword">if</span> ( line[<span class="number">0</span>] == <span class="number">32</span> <span class="params">||</span> line[<span class="number">0</span>] == <span class="string">" "</span> )</span><br><span class="line">          keyvalue = line.split(<span class="string">'='</span>, <span class="number">2</span>).collect &#123; <span class="params">|kv|</span> kv.strip &#125;</span><br><span class="line">          aggregate[keyvalue.first] = keyvalue.last</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          @fields[last_key] = aggregate</span><br><span class="line">          aggregate = <span class="literal">nil</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> aggregate == <span class="literal">nil</span></span><br><span class="line">        parts = line.split(<span class="string">':'</span>).collect &#123; <span class="params">|piece|</span> piece.strip &#125;</span><br><span class="line">        <span class="keyword">if</span> parts.length &gt; <span class="number">1</span></span><br><span class="line">          @fields[parts.first] = parts.last</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          last_key = parts.first</span><br><span class="line">          data = [] <span class="keyword">if</span> parts.first == <span class="string">"data"</span></span><br><span class="line">          aggregate = &#123;&#125;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    @fields[<span class="string">"data"</span>] = data.join(<span class="string">" "</span>) <span class="keyword">if</span> data</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">q</span><span class="params">(string)</span></span></span><br><span class="line">  <span class="string">"\"<span class="subst">#&#123;string&#125;</span>\""</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_entry</span><span class="params">(entry_string)</span></span></span><br><span class="line">  entry = KeychainEntry.new(entry_string)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> entry.fields[<span class="string">'class'</span>] == <span class="string">'"inet"'</span> &amp;&amp; [<span class="string">'"form"'</span>, <span class="string">'"dflt"'</span>].<span class="keyword">include</span>?(entry.fields[<span class="string">'attributes'</span>][<span class="string">'"atyp"&lt;blob&gt;'</span>])</span><br><span class="line">    site = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"srvr"&lt;blob&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</span><br><span class="line">    path = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"path"&lt;blob&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</span><br><span class="line">    proto= entry.fields[<span class="string">'attributes'</span>][<span class="string">'"ptcl"&lt;uint32&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</span><br><span class="line">    proto.to_s.gsub!(<span class="string">'htps'</span>, <span class="string">'https'</span>);</span><br><span class="line">    user = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"acct"&lt;blob&gt;'</span>].to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</span><br><span class="line">    <span class="comment">#user = entry.fields['attributes']['0x00000007 &lt;blob&gt;'].gsub!('"', '')</span></span><br><span class="line">    date_string = entry.fields[<span class="string">'attributes'</span>][<span class="string">'"mdat"&lt;timedate&gt;'</span>].to_s.gsub(<span class="regexp">/0x[^ ]+[ ]+/</span>, <span class="string">''</span>).to_s.gsub!(<span class="string">'"'</span>, <span class="string">''</span>)</span><br><span class="line">    date = DateTime.parse(date_string)</span><br><span class="line">    pass = entry.fields[<span class="string">'data'</span>][<span class="number">1</span>..-<span class="number">2</span>]</span><br><span class="line">    path = <span class="string">''</span> <span class="keyword">if</span> path == <span class="string">'&lt;NULL&gt;'</span></span><br><span class="line">    url = <span class="string">"<span class="subst">#&#123;proto&#125;</span>://<span class="subst">#&#123;site&#125;</span><span class="subst">#&#123;path&#125;</span>"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#puts "\"#&#123;site&#125;\",\"#&#123;url&#125;\",\"#&#123;user&#125;\",\"#&#123;pass&#125;\",\"#&#123;date&#125;\""</span></span><br><span class="line">    puts <span class="string">"<span class="subst">#&#123;site&#125;</span>,<span class="subst">#&#123;url&#125;</span>,<span class="subst">#&#123;user&#125;</span>,<span class="subst">#&#123;pass&#125;</span>,<span class="subst">#&#123;date&#125;</span>"</span></span><br><span class="line">    <span class="comment">#puts "#&#123;user&#125;, #&#123;pass&#125;, #&#123;date&#125;"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">accum = <span class="string">''</span></span><br><span class="line">ARGF.each_line <span class="keyword">do</span> <span class="params">|line|</span></span><br><span class="line">  <span class="keyword">if</span> line =~ <span class="regexp">/^keychain: /</span></span><br><span class="line">    <span class="keyword">unless</span> accum.empty?</span><br><span class="line">      process_entry(accum)</span><br><span class="line">      accum = <span class="string">''</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  accum += line</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure></p>
<p>This beautiful thing goes through the keychain items exported from the security dump command and converts that to a new file in csv format. I ran it something like<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby keychain.rb keychain.txt | sort &gt; keychain.csv</span><br></pre></td></tr></table></figure></p>
<h2 id="Importing-items-into-pass"><a href="#Importing-items-into-pass" class="headerlink" title="Importing items into pass"></a>Importing items into pass</h2><p>Finally the moment of truth where we get to import things into pass and shutdown keychain for good. So far I haven’t invested much time into this and thats good because I don’t have time to write a whole library to export/import this stuff. Assuming that the last script was successful in converting these items its time to import them with a simple bash script to parse the csv.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INPUT=keychain.csv</span><br><span class="line">OLDIFS=<span class="variable">$IFS</span></span><br><span class="line">IFS=,</span><br><span class="line">[ ! <span class="_">-f</span> <span class="variable">$INPUT</span> ] &amp;&amp; &#123; <span class="built_in">echo</span> <span class="string">"<span class="variable">$INPUT</span> file not found"</span>; <span class="built_in">exit</span> 99; &#125;</span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> flname url uname pass time</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">printf</span> <span class="string">"<span class="variable">$pass</span>\n<span class="variable">$username</span>\n<span class="variable">$url</span>"</span> | pass insert -m Imported-final/<span class="variable">$flname</span>-<span class="variable">$uname</span></span><br><span class="line"><span class="keyword">done</span> &lt; <span class="variable">$INPUT</span></span><br><span class="line">IFS=<span class="variable">$OLDIFS</span></span><br></pre></td></tr></table></figure></p>
<p>Everything worked out fine even with hacking together a few scripts and I had all of my items in pass in less than a half hour. As a note the conversion didn’t get me anything from keychain except for internet passwords which is all I cared about.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/29/vvv-multiple-projects-with-vagrant-share/" itemprop="url">
                  VVV multiple projects with vagrant share
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-29T10:07:04-06:00" content="2015-07-29">
              2015-07-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>The vagrant share command is totally underused and working in a remote company it’s also totally necessary. Nearly everyday I’m asked to troubleshoot a piece of code or help figure out a bug. Usually I need some context in order to help so I say “can you share your screen” or “would you mind pushing that up to staging and I’ll have a look at it later”. That’s just no good because it creates a time gap where I can’t help them. And oftentimes by the times I get around to taking a look they’ve already given up or went another route. That just sucks and there has to be a better way right? Well, there is and it’s called <code>vagrant share</code>. But there is one issue and that is by default it shares the default configuration for the VM which working in VVV is the default screen which isn’t very useful in debugging a site. But there is hope yet.</p>
<p>Luckily with the vagrant share command you can specify a port as one of the flags. So this got me thinking I wonder if… You setup a site with it’s own port you could theoretically access each site like it was it’s own box right? I just blew my own mind in the process. Oh the possibilities.</p>
<p>So I added this to my Vagrantfile<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">VAGRANTFILE_API_VERSION = &quot;2&quot;</span><br><span class="line">    Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|</span><br><span class="line">    config.vm.network &quot;forwarded_port&quot;, guest: 85, host: 8085</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p>And then I changed my nginx port to listen on port 85 like so</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listen 85;</span><br></pre></td></tr></table></figure>
<p>So now I’m thinking cool let’s fire this up and see if it works so I type</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant share --http 85</span><br></pre></td></tr></table></figure>
<p>And that works just fine if you take WordPress out of the situation but that defeats the purpose here since I work with primarily with WordPress. So, what do I do now? We’re getting passed all of the checkpoints on this except for WordPress and the reason is it’s determining the home and site url either by the DB or the wp-config file. What we need to do here is make the install URL agnostic so that it will work with any domain.</p>
<p>We we need to either change tht in the DB or update the config. Updating the config is much easier so let’s just do that.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">'WP_HOME'</span>,    <span class="string">"http://&#123;$_SERVER['HTTP_HOST']&#125;/"</span>);</span><br><span class="line">define(<span class="string">'WP_SITEURL'</span>, <span class="string">"http://&#123;$_SERVER['HTTP_HOST']&#125;/"</span>);</span><br></pre></td></tr></table></figure>
<p>Bam! we are in business you type up <code>vagrant share --http 85</code> and everything runs cool as ice.</p>
<p>But what about images? And other things? Just throw in a proxy pass like in the example below and everything works wonderfully.</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>       <span class="number">85</span>;</span><br><span class="line">    <span class="attribute">listen</span>       <span class="number">443</span> ssl;</span><br><span class="line">    <span class="attribute">server_name</span>  site.dev <span class="regexp">*.site.dev</span>;</span><br><span class="line">    <span class="attribute">root</span>         /srv/www/site;</span><br><span class="line">    <span class="attribute">include</span>      /etc/nginx/nginx-wp-common.conf;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> <span class="regexp">~* \.(js|css|png|jpg|jpeg|gif|ico|mp3|mov|tif|tiff|swf|txt|html)$</span> &#123;</span><br><span class="line">        <span class="attribute">expires</span> <span class="number">24h</span>;</span><br><span class="line">        <span class="attribute">log_not_found</span> <span class="literal">off</span>;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ <span class="variable">@production</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">location</span> <span class="variable">@production</span> &#123;</span><br><span class="line">        <span class="attribute">resolver</span> <span class="number">8.8.8.8</span>;</span><br><span class="line">        <span class="attribute">proxy_pass</span> http://www.site.com/<span class="variable">$uri</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now anyone you share that with will be able to help checkout your local machine without any trouble they can even login and poke around the admin.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/25/down-with-the-gui/" itemprop="url">
                  Down with the GUI
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-25T10:07:04-06:00" content="2015-07-25">
              2015-07-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>It’s been almost 2 years now since I abolished the GUI in my day to day workflow. I made a decision to throw out all of the GUI tools that I could and opt for command line whenever possible. What I had hoped to achieve was proficiency and efficiency by consolidating my working tools into one. Over the years I have worked with almost every trendy IDE and newest app I could find. You could imagine that at first it was a tough move previously I had relied on those applications to achieve more complex tasks like resolving git conflicts, stepping through code, or interfacing with a database. But none the less I felt like something was being lost in that process of using a GUI and that is an understanding of the operations that are being performed behind the scenes through the application. When its just a few clicks you lose that expertise in the fundamentals of the technology your using and I think that hurts us professionally in the end. As an example I work with MySQL quite a lot and there is a popular tool that most engineers I know use which is an awesome GUI BTW. But… There are some inherit downfalls to using it like limitations in querying power, total insight into the database, potentially outdated data not synced up with what’s actually in the current datastore, etc. How bad would it be if you were investigating faulty data only to find out that it wasn’t what was actually in the database because the results weren’t what they should be. Your led down the wrong path with false information wasting time on something that could have been avoided. For every GUI there is a downfall that usually comes at the price of convenience vs. knowing the technology that your interfacing with well enough to not use the GUI. In the end most GUIs are just a wrapper for the CLI anyhow so why not learn the source and forget the GUI.</p>
<h2 id="Consolidation-leads-to-efficiency-and-power"><a href="#Consolidation-leads-to-efficiency-and-power" class="headerlink" title="Consolidation leads to efficiency and power"></a>Consolidation leads to efficiency and power</h2><p>By moving to the command line I’m able to consolidate virtually all of my tools into one interface no more flip flopping between multiple apps to do my work. Which usually consists of using the mouse to select the app and switching to another screen moving data from one screen to another like copy/paste. Now I rarely have to take my fingers off of the keyboard to use the mouse and that saves time and increases efficiency. There is also the power of having full system control in one spot at said fingertips. This is transferable to other systems as almost seamlessly. For instance if I need to work on a server and my local machine I have full insight into both from one spot. Since I’m already used to using CLI I’m proficient on the remote system just as much as locally. This offers a huge advantage in fixing production issues because managing them is the same process and there is no disconnect from system to system.</p>
<h2 id="Lifespan-of-CLI"><a href="#Lifespan-of-CLI" class="headerlink" title="Lifespan of CLI"></a>Lifespan of CLI</h2><p>Another major advantage of using the CLI is that it will live forever which IMO is just another reason it is the Alpha and the Omega. Because it will live forever you will never have to learn yet another IDE or app and reinvest time and money into them a few years from now. Which pretty much sets you back at square one again. Sure, those apps are shiny and always have a few cool features but it’s totally new and in another couple of years your going to have make yet another transition. By sticking to strictly CLI is enables the user to build upon what they already have and integrate new more powerful CLI tools over time making the engineer that much more effective in the end.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/23/enumerate-dns-with-dnsenum-in-kali-linux/" itemprop="url">
                  Enumerate DNS with dnsenum in Kali Linux
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-23T10:07:04-06:00" content="2015-07-23">
              2015-07-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>dnsenum is a multithreaded perl script that can enumerate DNS information for a domain and discover non-contiguous ip blocks. We want to use dnsenum to gather even more information about the target domain. What we are mainly after with this tool is the private IP addresses. How do we get those sometimes takes some creative process but not much. We aren’t going to go through all of the option variations because it’s dependent upon what type of results your looking for and how thorough you want to be in your search. It collects basic information like host addresses, name servers, and mail hosts but also extracts useful information like bind versions and unlisted sub-domains. It also has reverse DNS lookup utilities that can be used  for C class network ranges. If your using this tool without a dictionary then you aren’t using it to it’s potential.</p>
<script id="asciicast-15179" src="https://asciinema.org/a/15179.js" async type="text/javascript"></script>

<p>You can see in the example above that we are performing a search on google.com using a dict as well as a few other options. In the end we check the xml file that we save the info to which can be saved to our information bank and/or used later with another application such as magictree. This tool takes some time to run if your using a lot of options so be weary of that in your information gathering.</p>
<p>This tool isn’t to be ran around on every site on the internet and actually violates the terms of service for google which is why the scrape option doesn’t always work. Google has become rather intelligent in blocking automated tools so you will most likely get blocked if other countermeasures aren’t taken. If you do become blocked it can last for days sometimes.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/22/git-hooks/" itemprop="url">
                  Git Hooks
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-22T10:07:04-06:00" content="2015-07-22">
              2015-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="What-is-a-git-hook"><a href="#What-is-a-git-hook" class="headerlink" title="What is a git hook?"></a>What is a git hook?</h2><p>Git hooks are surprisingly something developers know nothing about or have even heard of.  Which is weird because it’s one of those things that you should no doubt be using in your git workflow. If utilized they will take out some of those redundant tasks that you just hate doing or completely forget about. They can also improve code quality across projects with specific needs. I can’t stress enough how happy you will be by learning how to us git hooks and integrating them into your project.</p>
<p>A git hook is a bash script that is ran at certain periods in the execution process when you are working with git. For instance if you are about to push there is the hook <code>pre-push</code> which can be used to execute a script before a push occurs. The script can do anything you want really. You can check your codebase for certain flaws, send out a tweet, or anything to your liking really.</p>
<h2 id="Configure-your-first-hook"><a href="#Configure-your-first-hook" class="headerlink" title="Configure your first hook"></a>Configure your first hook</h2><p>By default git has it’s own hooks and init dir which is dependent on your system. These hooks are included in every repo that you create on your system by default and you can check them out by having a look at your <code>.git</code> dir in one of your projects. There are also sample hooks in the <code>.git/hooks</code> dir by default so you can have a look at those for more insight.</p>
<p>To start we’ll need to create a custom directory where we want to store our git templates. I keep any custom code on my machine in my home directory under <code>~/.code/</code> so I have mine configured like so.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global init.templatedir &apos;~/.code/.git_template&apos;</span><br></pre></td></tr></table></figure>
<p>If we check our globals for git we should see something like</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config -l</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init.templatedir=~/.code/.git_template</span><br></pre></td></tr></table></figure>
<p>The directory can be named anything you want really and doesn’t have to be named the same as mine. After you set your global template directory you will need to add a <strong>hooks</strong> directory under that.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.code/.git_template &amp;&amp; mkdir hooks</span><br></pre></td></tr></table></figure>
<p>Now you should see a hooks directory and we will need to set the proper permissions to make the scripts executable.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod ug+x ~/.code/.git_template/hooks/*</span><br></pre></td></tr></table></figure>
<p>Next we will want to create a hook inside that hooks dir and we are going to keep is simple. What we are going to do is write a simple bash script that will prepend the current branch name to our commit message. This is useful if your working with multiple branches and want to have a hard reference to that branch name after it has been merged into other branches. I use if for feature branch on occasion and it has proven useful.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch ~/.code/.git_template/hooks/prepare-commit-msg</span><br></pre></td></tr></table></figure>
<p>If you like here is a sample of that code. What it does is simply get the branch name and checks if we are on master or develop. If we aren’t on either of those branches then it will prepend the current branch wrapped in square brackets to our commit message.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># This way you can customize which branches should be skipped when prepending the commit message.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$BRANCHES_TO_SKIP</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line"> <span class="comment"># Define the branches to skip if your on an of these branches</span></span><br><span class="line"> BRANCHES_TO_SKIP=(master develop)</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">BRANCH_NAME=$(git symbolic-ref --short HEAD)</span><br><span class="line">BRANCH_NAME=<span class="string">"<span class="variable">$&#123;BRANCH_NAME##*/&#125;</span>"</span></span><br><span class="line"></span><br><span class="line">BRANCH_EXCLUDED=$(<span class="built_in">printf</span> <span class="string">"%s\n"</span> <span class="string">"<span class="variable">$&#123;BRANCHES_TO_SKIP[@]&#125;</span>"</span> | grep -c <span class="string">"^<span class="variable">$BRANCH_NAME</span>$"</span>)</span><br><span class="line">BRANCH_IN_COMMIT=$(grep -c <span class="string">"\[<span class="variable">$BRANCH_NAME</span>\]"</span> <span class="variable">$1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">"<span class="variable">$BRANCH_NAME</span>"</span> ] &amp;&amp; ! [[ <span class="variable">$BRANCH_EXCLUDED</span> <span class="_">-eq</span> 1 ]] &amp;&amp; ! [[ <span class="variable">$BRANCH_IN_COMMIT</span> -ge 1 ]]; <span class="keyword">then</span></span><br><span class="line"> sed -i.bak <span class="_">-e</span> <span class="string">"1s/^/[<span class="variable">$BRANCH_NAME</span>] /"</span> <span class="variable">$1</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>
<h2 id="Adding-your-hooks-to-your-project"><a href="#Adding-your-hooks-to-your-project" class="headerlink" title="Adding your hooks to your project"></a>Adding your hooks to your project</h2><p>After you’ve created your git hook navigate to a project that you don’t mind testing out this nifty new script on and type.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>
<p>This should pull in your new hooks configuration into that repo for you to use. If you want to verify that they are there you can navigate to the <code>.git/hooks</code> directory in your project and check if the files are there and current. Sometimes it doesn’t initialize properly so just be weary of that. Create a new branch and name it anything you like as long as it’s not in that list of <code>BRANCHES_TO_SKIP</code>. Once you complete your changes write up your commit message as usual and you should see the branch name appended to the commit message the you just typed up.</p>
<p>Really that’s it! You can get as creative as you like with these scripts. For instance you can check for debugging chunks of code or keywords such as <code>console.log</code> or  <code>var_dump</code> that should probably be excluded from your production code.</p>
<p><strong>Go forth and work smarter not harder!</strong></p>
<p><a href="http://git-scm.com/book/fr/v2/Customizing-Git-Git-Hooks" target="_blank" rel="external">More information on git hooks</a></p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/22/kali-linux-use-dnsdict6-to-scan-ipv6ipv4/" itemprop="url">
                  Kali Linux use dnsdict6 to scan IPv6/IPv4
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-22T10:07:04-06:00" content="2015-07-22">
              2015-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>In Kali Linux there comes a tool called dnsdict6 that is used for DNS enumeration for a domain. It will use a dictionary file if supplied otherwise it uses a built in list. You can use this tool to gather information from a website seeing otherwise hidden or hard to find sub-domains. Sometimes you can find legacy domains that are no longer actively being used but could be a potential attack vector.</p>
<p>Do a quick scan to see what sort of tool this is and what results we can expect. <code>dnsdict6 google.com</code></p>
<script id="asciicast-15151" src="https://asciinema.org/a/15151.js" async type="text/javascript"></script>

<p>By running that command above your should see something similar so now we know sort of how this works. Let’s dig into it a bit deeper and learn about what options we can use with dnsdict6. Type in either <code>dnsdict6</code> or <code>dnsdict6 --help</code> and the flags for this command will show up.</p>
<script id="asciicast-15152" src="https://asciinema.org/a/15152.js" async type="text/javascript"></script>

<h2 id="But-what-do-those-flags-mean-really-and-how-can-we-use-them"><a href="#But-what-do-those-flags-mean-really-and-how-can-we-use-them" class="headerlink" title="But what do those flags mean really and how can we use them?"></a>But what do those flags mean really and how can we use them?</h2><p><strong>-4</strong>: Will also yield IPv4 addresses which are reserved for private networks and multicast addresses.</p>
<p><strong>-t</strong>: # Will determine how many threads your willing to use for the search. It can add some speed to the process but the task will get done nonetheless. Threading does make a difference if your using a larger list usually around 20 is a good number.</p>
<p><strong>-D</strong>: Doesn’t do any scanning and will dump the current built in wordlist that the utility uses by default.</p>
<p><strong>-d</strong>: Will display the IPv6 information on NS records which are basically which nameservers the domain points to and the MX records are mail servers that belong to the attached domain.</p>
<p><strong>-S</strong>: Will list services that are used by the domain such as jabber and xmpp.</p>
<p><strong>-[smlxu]</strong>: Will change the size of the dictionary that you’ll use for the scan. You will get more results sometimes but it will also take more time to dig through all of these dictionary terms.</p>
<p><strong>How is this useful?</strong></p>
<p>Planning is key to a successful attack and without information planning is all theoretical. We need to limit the amount of theoretical approaches to our attack therefore we rule them out by gathering information. The domains collected using this utility could be used later as attack vectors or further investigation of exploits in those domains. For instance you can find strictly <strong>ftp</strong> designated domains or a dedicated domain for a database such as <strong>mssql.google.com</strong>. If a domain has a wildcard configured you may get a warning such as <strong>Warning: wildcard domain configured (2nd test)</strong> Which is usually not a big deal but can sometimes take a very long time to complete or it will get hung up altogether.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/22/what-is-kali-linux/" itemprop="url">
                  What is Kali Linux
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-22T10:07:04-06:00" content="2015-07-22">
              2015-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="What-is-Kali-Linux"><a href="#What-is-Kali-Linux" class="headerlink" title="What is Kali Linux?"></a>What is Kali Linux?</h2><p>Kali Linux previously known as Backtrack is a custom Linux distro maintained by Offensive Security Ltd. It’s main purpose is for digital forensics and penetration testing. It comes with all the tools you need to start hacking and takes some getting to know before you can actually do anything with it. It’s designed as out of the box OS solution that will quickly get you up and hacking from nearly any type of device quickly.</p>
<h2 id="What-Kali-Linux-is-not"><a href="#What-Kali-Linux-is-not" class="headerlink" title="What Kali Linux is not."></a>What Kali Linux is not.</h2><p>It is not a push button solution that will hack anything at the push of a button. It is not for beginners that don’t understand how computers work. You should have a decent understanding of computers and the internet before you can even dream of doing anything with Kali. It’s not for what you might call a “Script Kiddy”. It’s also not for people that don’t understand the basic fundamentals of computer programming, Linux, once again the internet and how it works. If you don’t have those skills locked down then move along until you do because the truth is there isn’t much you can do besides play around with the OS until you do understand those things. However playing is how you learn so why not try it? Just don’t get frustrated when you can’t push the “Hack Google” button because there isn’t one.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/22/update-kali-linux/" itemprop="url">
                  Update Kali Linux
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-22T10:07:04-06:00" content="2015-07-22">
              2015-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Kali Linux is by far one of the most awesome and battle tested penetration testing OS’s out there. But sometimes it needs a little love to keep things operating smoothly and just like any OS when you update your getting new features as well as security updates that will keep your system safe from recent security breaches. <code>apt-get update &amp;&amp; apt-get upgrade</code></p>
<p>Alternatively you can add the following flag to that command and it will fix any packages that are broken or partially installed on the system. <code>apt-get update &amp;&amp; apt-get upgrade --fix-missing</code></p>
<p>Kali will ping the Kali web server checking for new packages listed on their servers now check it’s webservers for updates. If it finds any that need updated then it should ask if you want to install them.</p>
<p>Patiently wait for all of the packages to update, go make a coffee or whatever floats your boat.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/07/22/vvv-php-code-sniffer-with-wordpress/" itemprop="url">
                  VVV PHP Code Sniffer with WordPress
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-07-22T10:07:04-06:00" content="2015-07-22">
              2015-07-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Unbekownst to a lot of people that use VVV even on a daily basis is that there is a built in code sniffer or <strong>CS</strong> integrated into the machine that can be really useful if your committing code and want to maintain a higher standard. If you’ve provisioned the box then sitting inside your <strong>www</strong> directory there should be another directory called <strong>phpcs</strong> which stands for “PHP Code Sniffer”.</p>
<h2 id="Sniffing-Code-from-the-console"><a href="#Sniffing-Code-from-the-console" class="headerlink" title="Sniffing Code from the console"></a>Sniffing Code from the console</h2><p>After you’ve booted up the vm you’ll want to <code>vagrant ssh</code> into the box and check if phpcs is installed by typing <code>which phpcs</code> which should return the its executable path which is something like <code>/srv/www/phpcs/scripts/phpcs</code>. If nothing is returned then you need to add the executable to your path but it should be there by default when you provision the machine.</p>
<p>Using the built in php code sniffer with WordPress is easy. Once we’ve verified that phpcs is on the box and it’s executable then we need to test out a file to see if it’s up to coding standard. Let’s check out our <strong>wp-config.php</strong> file by running <code>phpcs /srv/www/wordpress-default/wp-config.php</code> . This should return results similar to those below.</p>
<p>Keep in mind that this sniffed using the default PEAR standard for the file and since we are working with WordPress we want a standard that is more our ballgame but to see which ones are installed type <code>phpcs -i</code> After that pick a standard listed, I’m going to use WordPress </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phpcs /srv/www/wordpress-default/wp-config.php --standard=WordPress`</span><br></pre></td></tr></table></figure>
<p>Notice now that the results are slightly different since we are using the WordPress standard to sniff our code. That’s a lot of errors though and I don’t want to manually go through and find them all fixing them on by one. That would be so boring and take way too long so let’s fix them in one go. Notice the message at the bottom of that command output.</p>
<p><strong>PHPCBF CAN FIX THE MARKED SNIFF VIOLATIONS AUTOMATICALLY</strong></p>
<h2 id="Fixing-Code"><a href="#Fixing-Code" class="headerlink" title="Fixing Code"></a>Fixing Code</h2><p>Is totally something you don’t want to miss and is just as easy to use as phpcs. If you don’t already have a patch or diff application setup for phpcbf then you’ll probably want to pass the flag <strong>–no-patch</strong> along with this next command otherwise you will most likely get an error. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">phpcbf --standard=WordPress --no-patch /srv/www/wordpress-default/wp-config.php`</span><br></pre></td></tr></table></figure>
<p>Now those errors should be all fixes to that coding standard. If you were to run the <strong>phpcs </strong>command again then the errors in question should no longer show up in the sniff results.</p>
<p>You can also fix entire directories using these tools but just be warned that though it works pretty well sometimes you just don’t get all of the perfect code that you expected.</p>
<p>As a note for those that work with <strong>VIP QuickStart</strong> the same packages are installed on the Vagrant box as well and can be used in the same fashion. If your a vim user I’ve found that this <a href="http://vimawesome.com/plugin/phpcs-vim&quot;" target="_blank" rel="external">plugin</a> works well.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/06/20/why-i-moved-from-wordpress-to-hexo/" itemprop="url">
                  Why I moved from WordPress to Hexo
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2015-06-20T22:17:42-06:00" content="2015-06-20">
              2015-06-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Work/" itemprop="url" rel="index">
                    <span itemprop="name">Work</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="WTF-is-Hexo"><a href="#WTF-is-Hexo" class="headerlink" title="WTF is Hexo?"></a>WTF is Hexo?</h2><p>Hexo is a static site generator built on node.js similar to jekyll, poet, wintersmith, etc. There are a ton of them out there but I liked this one the most and it gave me what I wanted. Which was a static site generator with a cli interface written in node which I could port wherever I wanted for free hosting.</p>
<h2 id="No-cost-and-less-headaches"><a href="#No-cost-and-less-headaches" class="headerlink" title="No cost and less headaches"></a>No cost and less headaches</h2><p>Though I’m not cheap I don’t really like dishing out even $5 a month for hosting when I can get it for free. GitHub offers GitHub pages which serve up static sites and <a href="https://hexo.io" target="_blank" rel="external">Hexo</a> fits well into that very well. Of course there’s jekyll but I wanted something different and new so I went looking for something built on top of node. That yielded a few results like <a href="http://jsantell.github.io/poet/" target="_blank" rel="external">poet</a> which looks pretty hip and all but it didn’t seem to statically generate the site. There’s really no good reason for me to want to dick around with any type of hosting whether its VPS, shared, WPEngine, or hosted on WordPress.com. Why should I bother and waste the time when all I need is a simple blog? It’s not like I write that much anyways. There’s simply too much overhead to run a simple WordPress blog and it’s super annoying to mess around with updates, spammers, caching issues, downtime, etc. It’s a pain in the ass! If GitHub goes down I’m pretty confident that my site isn’t going to suffer much in the end and I don’t have to worry about any other logistics other than deploying my site. </p>
<p>It also extremeley portable because everything is written in markdown I can take my posts with me wherever I go. I usually write everything in markdown on WordPress anyways and it likes to fight between using markdown and html. With Hexo I can write my posts in vim and deploy in one simple command.</p>
<h2 id="It’s-fresh"><a href="#It’s-fresh" class="headerlink" title="It’s fresh"></a>It’s fresh</h2><p>I’m excited to work with node and all things built on node so any chance I get to move towards using it is a step towards progress IMO. In a world where what you learned last week may no longer be in fashion WordPress is like a dude wearing socks with sandals. Hexo is pretty new still with it’s very first release being in October of 2012 it offers a pretty powerful API and a nice cli out of the box. But duh, it’s not a CMS replacement for Wordpress but definitely a competitor to jekyll and other static site generators out there.</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://www.dropbox.com/s/hz9556kjhkkg0hq/bio.png?raw=1"
               alt="Brandon Camenisch" />
          <p class="site-author-name" itemprop="name">Brandon Camenisch</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/brandoncamenisch" target="_blank" title="GitHub">
                  
                    <i class="fa fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  1995 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Brandon Camenisch</span>
</div>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
